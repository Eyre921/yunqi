## **1. 项目概述**

### **1.1 项目背景**

为配合线下大型活动（如云栖大会），需要开发一个数字化的作品互动展示平台。该平台旨在为现场参与者提供一个便捷的渠道，用于上传、展示和分享其在活动中创作的作品，同时通过有趣的互动方式，增强现场的参与感和热烈氛围。

### **1.2 项目目标**

- **核心体验**: 提供流畅的作品上传与统一的作品展示体验。
    
- **互动氛围**: 通过简化的点赞互动和动态数据展示，营造热闹、积极的社区氛围。
    
- **多端适配**: 适配会场大屏（PC网页）和个人设备（移动端网页）两种核心浏览场景。
    
- **内容安全**: 建立内容审核机制，确保展示内容的安全、合规，规避潜在风险。
    

### **1.3 核心用户与场景**

- **核心用户**: 活动现场的参与者、嘉宾、工作人员。
    
- **核心场景**:
    
    - **上传场景**: 用户在PC设备上，将自己创作的AI作品（图片与Prompt）上传至平台。
        
    - **浏览场景**: 用户通过会场大屏或个人手机，实时浏览所有参与者提交的作品，感受活动的热烈氛围。
        
    - **互动场景**: 用户对自己喜欢的作品进行点赞，并可复制其Prompt进行二次创作。
        

## **2. 功能需求详述**

### **2.1 作品上传功能**

- **触发方式**: 用户通过页面上的“上传作品”按钮启动上传流程。
    
- **平台**: 主要为PC端网页进行操作和优化。移动端应向用户提示“请使用PC浏览器上传作品”。
    
- **流程详述**:
    
    1. 点击“上传我的作品”按钮。
        
    2. 以弹窗（Modal）形式打开上传界面。
        
    3. 界面提供**作品名字**、**作品简述**、**作者名**、**Prompt**、**作品图片**五个输入区域。
        
    4. 图片上传后，提供**16:9**比例的裁剪框，要求用户裁剪为统一尺寸，以确保展示美观。
        
    5. 填写信息并点击“发布”，按钮变为“发布中...”并禁用，直到收到后端反馈。
        
- **字段约束与规格 (根据原型更新)**:
    
    - **作品名字**: 必填项，最多 `50` 个字符。
        
    - **作品简述**: 必填项，最多 `300` 个字符。
        
    - **作者名**: 必填项，最多 `15` 个字符。
        
    - **Prompt**: 可选项，最多 `8000` 个字符。
        
    - **作品图片**:
        
        - **文件格式**: 仅支持 `JPG`, `PNG` 格式。
            
        - **文件大小**: 上传文件不得超过 `5MB`。
            
- **流程状态与反馈**:
    
    - **上传成功**: 弹窗关闭，页面顶部弹出“Toast”轻提示：“作品已提交审核，请耐心等待！”。
        
    - **上传失败**: 弹窗内显示具体错误信息，或弹出“Toast”提示，并允许用户修正后重新提交。
        

### **2.2 作品浏览与展示功能**

- **网页标题**: “<span style="color:red;">XXX</span>人正在云栖大会创作”，其中`XXX`为动态模拟在线人数。
    
- **整体布局**:
    
    - 采用多行网格布局，每一行作品都以“传送带”（Marquee）的形式自动、循环地左右滑动。
        
    - **PC端**: 每行基础展示 `10` 个作品。
        
    - **移动端**: 为优化体验，布局转为**单列垂直瀑布流**，禁用自动横向滚动。
        
- **“传送带”交互细节 (根据原型精确化)**:
    
    - **滚动动画**: 每行完成一次完整的循环动画时长为 `20秒` (技术参考: `animation: scroll 20s linear infinite;`)。
        
    - **交互暂停**: 当用户的鼠标悬停（`hover`）在任意作品卡片上时，该行的滚动动画应**暂停** (技术参考: `animation-play-state: paused;`)，方便用户点击。鼠标移开后恢复滚动。
        
    - **无缝滚动**: 为实现无缝循环效果，前端需根据容器宽度动态克隆作品卡片，确保在任何分辨率下跑马灯都不会出现断裂。
        
- **排序规则**:
    
    - **最新作品行**: 页面顶部第一行，固定用于实时展示最新通过审核的 `10` 个作品。当有新作品通过审核，该行内容应通过技术手段实时更新，无需用户刷新。
        
    - **热门作品行**: 第一行以下的其它所有行，均按照作品的热度（点赞数）从高到低排序。若点赞数相同，则按审核通过时间倒序排列。该排序每 `1` 分钟刷新一次。
        
- **视图统一**: 所有访问者在同一时刻看到的页面布局和作品排序应完全一致，便于现场引导和讨论。
    
- **作品详情**:
    
    - 用户点击任意作品卡片，以弹窗（Modal）形式打开作品详情页。
        
    - 详情页展示作品大图、作品简述、作者、完整的Prompt、实时点赞数以及互动按钮。
        

### **2.3 互动与氛围功能**

- **点赞功能**:
    
    - 详情页提供 “夸夸他” 按钮。
        
    - 用户可对同一作品重复点击。
        
    - **后端逻辑**: 每次收到点赞请求，为该作品增加 `1-10` 之间的一个随机数。
        
    - **前端优化**: 为防止服务器过载，前端需对点赞请求做节流处理（如每 `500ms` 合并一次请求）。
        
- **Prompt复制功能**:
    
    - 详情页提供 “复制Prompt” 按钮。
        
    - 点击后按钮变为“已复制”，并弹出“Toast”提示：“Prompt已复制到剪贴板”。
        
- **初始热度机制**:
    
    - 为避免新作品数据过冷，所有通过审核的作品在发布时，系统将为其赋予一个 `10-50` 之间的随机初始点赞数。
        
- **模拟在线人数**:
    
    - 在页面醒目位置设置一个“xxx人正在参与”的动态计数器。
        
    - 该数字为前端模拟的虚拟数据，从基数 `1024` 开始，按照 `每10秒随机增加1-5人` 的算法动态增长。
        

### **2.4 后台审核功能**

- **核心目的**: 对所有用户上传内容进行前置审查，过滤不当信息（如涉黄、涉政、广告等）。
    
- **功能要求**:
    
    - 需开发一个独立的、有访问权限的后台审核页面。
        
    - 审核员在该页面可以清晰地看到待审核作品的图片（可点击放大）、名字、简述、作者和Prompt。
        
    - 审核列表按提交时间正序排列。
        
    - 页面提供“通过”与“拒绝”的操作按钮。
        
- **审核流程**:
    
    - 作品上传后，状态为 `待审核 (Pending)`。
        
    - 审核员点击“通过”，作品状态变为 `已通过 (Approved)`，进入前台作品池并被用户看到。
        
    - 审核员点击“拒绝”，作品状态变为 `已拒绝 (Rejected)`，不会出现在前台。
        
- **权限与安全**: 后台页面需通过密码或IP白名单进行访问控制。建议记录审核操作日志。
    
- **人员安排**: 审核工作由客户方安排人力执行。
    

## **3. 非功能性需求**

### **3.1 性能需求**

- **页面加载**: 核心展示页面在3G网络下首次加载时间应小于 `5秒`。所有图片资源必须采用懒加载策略。
    
- **API响应**: 所有API接口平均响应时间应小于 `200ms`。
    

### **3.2 可扩展性需求**

- **流量承载**: 系统需能稳定应对活动期间的高并发访问。
    
- **CDN使用**: 所有用户上传的图片及项目静态资源，必须通过CDN进行分发，以保证全球用户的访问速度并降低服务器负载。
    

### **3.3 安全性需求**

- **内容安全**: 后端需对所有用户提交的文本内容进行基础的XSS过滤，防止跨站脚本攻击。
    
- **后台安全**: 审核后台的访问权限需严格控制。
    

### **3.4 数据统计需求**

- **核心指标**: 系统后台需要统计并展示以下核心数据：
    
    - 作品总上传数、审核通过数、拒绝数
        
    - 总点赞数
        
    - PV (页面浏览量) / UV (独立访客数)
        

## **4. 数据模型**

为确保项目的长期可维护性和未来扩展性，`Work`作品对象的数据结构定义如下（已根据原型更新）：

```
{
  "id": "string",          // 唯一ID (主键)
  "name": "string",        // 作品名字 (50字符)
  "title": "string",       // 作品简述 (300字符)
  "author": "string",      // 作者名 (15字符)
  "prompt": "string",      // 完整的Prompt (8000字符)
  "imageUrl": "string",    // 作品图片URL (CDN地址)
  "status": "pending | approved | rejected", // 审核状态
  "likeCount": "number",   // 总点赞数
  "createdAt": "timestamp",// 提交时间 (用于排序和审计)
  "approvedAt": "timestamp",// 审核通过时间 (用于“最新”和“同票”排序)
  "userId": "string | null",          // 关联用户ID (用户系统预留)
  "isFeatured": "boolean",            // 是否精选 (为运营活动预留)
  "isDeleted": "boolean",             // 软删除标记 (避免物理删除数据)
  "viewCount": "number",              // 浏览数 (用于更丰富的数据分析)
  "shareCount": "number",             // 分享数 (为未来社交分享功能预留)
  "updatedAt": "timestamp",           // 最后更新时间 (数据库最佳实践)
  "moderatorId": "string | null",     // 审核员ID (用于审核追溯)
  "rejectionReason": "string | null"  // 拒绝原因 (用于审核数据分析)
}
```